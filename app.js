!function(){"use strict";const t=new class{constructor(t){this.gobl=document.createElement("div"),this.gobl.classList.add("goblin"),this.size=t,this.oldHole=1,this.timerId=0,this.wrapper=document.createElement("div"),this.wrapper.classList.add("wrapper"),this.container=document.createElement("div"),this.container.classList.add("container"),this.wrapper.append(this.container),this.title=document.createElement("h1"),this.title.classList.add("title"),this.title.innerText="GOBLIN",this.container.append(this.title);for(let e=0;e<t*t;e+=1){let t=document.createElement("div");t.classList.add("hole"),this.container.append(t)}this.gameStat=document.createElement("div"),this.gameStat.classList.add("gamestat"),this.container.append(this.gameStat),document.body.append(this.wrapper),this.cells=document.querySelectorAll(".hole")}moveGoblin(){let t=this.oldHole;for(;t===this.oldHole;)t=Math.floor(Math.random()*this.size*this.size);this.oldHole=t,this.cells[t].append(this.gobl)}gamePlay(){this.timerId=setInterval((()=>{this.moveGoblin()}),1e3)}}(4);t.gamePlay();const e=new class{constructor(t){this.app=t,this.scores={win:0,loos:0},this.checkTarget=this.checkTarget.bind(this),this.gamestat=document.querySelector(".gamestat")}ShowStat(t,e){this.gamestat.innerHTML=`\n    <h3>${e}</h3>\n    Попал: <strong>${t.win}</strong>, Промахнулся: <strong>${t.loos}</strong>`}init(){this.app.wrapper.addEventListener("click",this.checkTarget),this.timerId=setInterval((()=>{this.checkScores(!1)||this.ShowStat(this.scores,"Игра идет")}),1e3)}checkScores(t){return this.scores.loos>=5||this.scores.win>=5?(clearInterval(this.timerId),clearInterval(this.app.timerId),this.app.wrapper.removeEventListener("click",this.checkTarget),this.ShowStat(this.scores,"Игра окончена"),!0):(t?this.scores.loos-=1:this.scores.loos+=1,!1)}checkTarget(t){t.target.classList.contains("goblin")&&(this.scores.win+=1,this.app.moveGoblin(),clearInterval(this.app.timerId),this.app.gamePlay(),this.checkScores(!0))}}(t);e.init()}();
//# sourceMappingURL=app.js.map