{"version":3,"file":"app.js","mappings":"yBAIA,MAAMA,EAAM,ICJG,MACbC,WAAAA,CAAYC,GACVC,KAAKC,KAAOC,SAASC,cAAc,OACnCH,KAAKC,KAAKG,UAAUC,IAAI,UAExBL,KAAKD,KAAOA,EACZC,KAAKM,QAAU,EACfN,KAAKO,QAAU,EAEfP,KAAKQ,QAAUN,SAASC,cAAc,OACtCH,KAAKQ,QAAQJ,UAAUC,IAAI,WAC3BL,KAAKS,UAAYP,SAASC,cAAc,OACxCH,KAAKS,UAAUL,UAAUC,IAAI,aAC7BL,KAAKQ,QAAQE,OAAOV,KAAKS,WACzBT,KAAKW,MAAQT,SAASC,cAAc,MACpCH,KAAKW,MAAMP,UAAUC,IAAI,SACzBL,KAAKW,MAAMC,UAAY,SACvBZ,KAAKS,UAAUC,OAAOV,KAAKW,OAC3B,IAAK,IAAIE,EAAI,EAAGA,EAAId,EAAOA,EAAMc,GAAK,EAAG,CACvC,IAAIC,EAAOZ,SAASC,cAAc,OAClCW,EAAKV,UAAUC,IAAI,QACnBL,KAAKS,UAAUC,OAAOI,EACxB,CACAd,KAAKe,SAAWb,SAASC,cAAc,OACvCH,KAAKe,SAASX,UAAUC,IAAI,YAC5BL,KAAKS,UAAUC,OAAOV,KAAKe,UAC3Bb,SAASc,KAAKN,OAAOV,KAAKQ,SAC1BR,KAAKiB,MAAQf,SAASgB,iBAAiB,QACzC,CAEAC,UAAAA,GACE,IAAIC,EAAUpB,KAAKM,QACnB,KAAOc,IAAYpB,KAAKM,SACtBc,EAAUC,KAAKC,MAAMD,KAAKE,SAAWvB,KAAKD,KAAOC,KAAKD,MAExDC,KAAKM,QAAUc,EACfpB,KAAKiB,MAAMG,GAASV,OAAOV,KAAKC,KAClC,CAEAuB,QAAAA,GACExB,KAAKO,QAAUkB,aAAY,KACzBzB,KAAKmB,YAAY,GAChB,IACL,GDvCkB,GACpBtB,EAAI2B,WACJ,MAAME,EAAO,IENE,MACb5B,WAAAA,CAAYD,GACVG,KAAKH,IAAMA,EACXG,KAAK2B,OAAS,CAAEC,IAAK,EAAGC,KAAM,GAC9B7B,KAAK8B,YAAc9B,KAAK8B,YAAYC,KAAK/B,MACzCA,KAAKgC,SAAW9B,SAAS+B,cAAc,YACzC,CAEAC,QAAAA,CAASP,EAAQQ,GACfnC,KAAKgC,SAASI,UAAa,aACrBD,8BACWR,EAAOC,sCAAsCD,EAAOE,eACvE,CAEAQ,IAAAA,GACErC,KAAKH,IAAIW,QAAQ8B,iBAAiB,QAAStC,KAAK8B,aAChD9B,KAAKO,QAAUkB,aAAY,KACRzB,KAAKuC,aAAY,IAIhCvC,KAAKkC,SAASlC,KAAK2B,OAAQ,YAC7B,GACC,IACL,CAEAY,WAAAA,CAAYC,GACV,OAAIxC,KAAK2B,OAAOE,MAAQ,GAAK7B,KAAK2B,OAAOC,KAAO,GAC9Ca,cAAczC,KAAKO,SACnBkC,cAAczC,KAAKH,IAAIU,SACvBP,KAAKH,IAAIW,QAAQkC,oBAAoB,QAAS1C,KAAK8B,aACnD9B,KAAKkC,SAASlC,KAAK2B,OAAQ,kBACpB,IAEJa,EACAxC,KAAK2B,OAAOE,MAAQ,EADR7B,KAAK2B,OAAOE,MAAQ,GAE9B,EACT,CAEAC,WAAAA,CAAYa,GACNA,EAAEC,OAAOxC,UAAUyC,SAAS,YAC9B7C,KAAK2B,OAAOC,KAAO,EACnB5B,KAAKH,IAAIsB,aACTsB,cAAczC,KAAKH,IAAIU,SACvBP,KAAKH,IAAI2B,WACTxB,KAAKuC,aAAY,GAErB,GFzCoB1C,GACtB6B,EAAKW,M","sources":["webpack://AHJ-EVENT/./src/index.js","webpack://AHJ-EVENT/./src/js/app.js","webpack://AHJ-EVENT/./src/js/play.js"],"sourcesContent":["import './css/style.css';\nimport App from './js/app';\nimport Play from './js/play';\n\nconst app = new App(4);\napp.gamePlay();\nconst play = new Play(app);\nplay.init();\n\n// entry point for webpack\n","export default class App {\n  constructor(size) {\n    this.gobl = document.createElement('div');\n    this.gobl.classList.add('goblin');\n\n    this.size = size;\n    this.oldHole = 1;\n    this.timerId = 0;\n\n    this.wrapper = document.createElement('div');\n    this.wrapper.classList.add('wrapper');\n    this.container = document.createElement('div');\n    this.container.classList.add('container');\n    this.wrapper.append(this.container);\n    this.title = document.createElement('h1');\n    this.title.classList.add('title');\n    this.title.innerText = 'GOBLIN';\n    this.container.append(this.title);\n    for (let i = 0; i < size * size; i += 1) {\n      let elem = document.createElement('div');\n      elem.classList.add('hole');\n      this.container.append(elem);\n    }\n    this.gameStat = document.createElement('div');\n    this.gameStat.classList.add('gamestat');\n    this.container.append(this.gameStat);\n    document.body.append(this.wrapper);\n    this.cells = document.querySelectorAll('.hole');\n  }\n\n  moveGoblin() {\n    let newHole = this.oldHole;\n    while (newHole === this.oldHole) {\n      newHole = Math.floor(Math.random() * this.size * this.size);\n    }\n    this.oldHole = newHole;\n    this.cells[newHole].append(this.gobl);\n  }\n\n  gamePlay() {\n    this.timerId = setInterval(() => {\n      this.moveGoblin();\n    }, 1000);\n  }\n}\n","export default class Play {\n  constructor(app) {\n    this.app = app;\n    this.scores = { win: 0, loos: 0 };\n    this.checkTarget = this.checkTarget.bind(this);\n    this.gamestat = document.querySelector('.gamestat');\n  }\n\n  ShowStat(scores, stat) {\n    this.gamestat.innerHTML = `\n    <h3>${stat}</h3>\n    Попал: <strong>${scores.win}</strong>, Промахнулся: <strong>${scores.loos}</strong>`;\n  }\n\n  init() {\n    this.app.wrapper.addEventListener('click', this.checkTarget);\n    this.timerId = setInterval(() => {\n      const gameOver = this.checkScores(false);\n      if (gameOver) {\n        return;\n      } else {\n        this.ShowStat(this.scores, 'Игра идет');\n      }\n    }, 1000);\n  }\n\n  checkScores(clickEvent) {\n    if (this.scores.loos >= 5 || this.scores.win >= 5) {\n      clearInterval(this.timerId);\n      clearInterval(this.app.timerId);\n      this.app.wrapper.removeEventListener('click', this.checkTarget);\n      this.ShowStat(this.scores, 'Игра окончена');\n      return true;\n    }\n    if (!clickEvent) this.scores.loos += +1;\n    else this.scores.loos -= 1;\n    return false;\n  }\n\n  checkTarget(e) {\n    if (e.target.classList.contains('goblin')) {\n      this.scores.win += 1;\n      this.app.moveGoblin();\n      clearInterval(this.app.timerId);\n      this.app.gamePlay();\n      this.checkScores(true);\n    }\n  }\n}\n"],"names":["app","constructor","size","this","gobl","document","createElement","classList","add","oldHole","timerId","wrapper","container","append","title","innerText","i","elem","gameStat","body","cells","querySelectorAll","moveGoblin","newHole","Math","floor","random","gamePlay","setInterval","play","scores","win","loos","checkTarget","bind","gamestat","querySelector","ShowStat","stat","innerHTML","init","addEventListener","checkScores","clickEvent","clearInterval","removeEventListener","e","target","contains"],"sourceRoot":""}